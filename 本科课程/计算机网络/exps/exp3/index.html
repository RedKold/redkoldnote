
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../exp2/">
      
      
        <link rel="next" href="../exp4/">
      
      
        <link rel="alternate" type="application/rss+xml" title="RSS feed" href="../../../../feed_rss_created.xml">
        <link rel="alternate" type="application/rss+xml" title="RSS feed of updated content" href="../../../../feed_rss_updated.xml">
      
      <link rel="icon" href="../../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.14">
    
    
      
        <title>Index - redkold-note</title>
      
    
    
      <link rel="stylesheet" href="../../../../assets/stylesheets/main.342714a4.min.css">
      
        
        <link rel="stylesheet" href="../../../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="#9B5DE5" data-md-color-accent="#FF477E">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#_1" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../../.." title="redkold-note" class="md-header__button md-logo" aria-label="redkold-note" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            redkold-note
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Index
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="#9B5DE5" data-md-color-accent="#FF477E"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 6H7c-3.31 0-6 2.69-6 6s2.69 6 6 6h10c3.31 0 6-2.69 6-6s-2.69-6-6-6m0 10H7c-2.21 0-4-1.79-4-4s1.79-4 4-4h10c2.21 0 4 1.79 4 4s-1.79 4-4 4M7 9c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="#9B5DE5" data-md-color-accent="#FF477E"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
          <a href="javascript:void(0)" class="md-search__icon md-icon" title="Share" aria-label="Share" data-clipboard data-clipboard-text="" data-md-component="search-share" tabindex="-1">
            
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91s2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08"/></svg>
          </a>
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
  </nav>
  
    
      
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../../.." class="md-tabs__link">
        
  
  
    
  
  关于我

      </a>
    </li>
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../../Why%20do%20you%20write/MAD%E6%94%B6%E9%9B%86%E5%AE%B6/" class="md-tabs__link">
          
  
  
    
  
  Why do you write

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../../blog/" class="md-tabs__link">
          
  
  
    
  
  Blog

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../../%E6%95%B0%E7%90%86%E5%9F%BA%E7%A1%80/%E6%A6%82%E7%8E%87%E8%AE%BA/%E5%A4%9A%E7%BB%B4%E9%9A%8F%E6%9C%BA%E5%8F%98%E9%87%8F%E6%80%BB%E7%BB%93/" class="md-tabs__link">
          
  
  
    
  
  数理基础

        </a>
      </li>
    
  

    
  

      
        
  
  
  
    
  
  
    
    
      
  
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../../../%E7%AE%97%E6%B3%95%E8%AE%BE%E8%AE%A1%E4%B8%8E%E5%88%86%E6%9E%90/%E7%AE%97%E6%B3%95%E7%9B%AE%E5%BD%95/" class="md-tabs__link">
          
  
  
    
  
  本科课程

        </a>
      </li>
    
  

    
  

      
    </ul>
  </div>
</nav>
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../../.." title="redkold-note" class="md-nav__button md-logo" aria-label="redkold-note" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    redkold-note
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    关于我
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Why do you write
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Why do you write
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../Why%20do%20you%20write/MAD%E6%94%B6%E9%9B%86%E5%AE%B6/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    MAD 收藏家
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../Why%20do%20you%20write/latex%E4%BD%BF%E7%94%A8%E6%8C%87%E5%8D%97%EF%BC%88%E8%87%AA%E7%94%A8%EF%BC%89/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    字体
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../Why%20do%20you%20write/%E5%A5%87%E5%B7%A7%E8%AE%A1%E7%A8%8B%E8%BD%A6/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    奇巧计程车
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../Why%20do%20you%20write/%E6%B2%A1%E8%83%BDGo%20Beyond%20-%20Moana%202%20%E7%AE%80%E8%AF%84/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    没能Go Beyond   Moana 2 简评
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../Why%20do%20you%20write/%E9%9F%B3%E4%B8%80%E4%BC%9A/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    音一会歌词
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../../blog/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    Blog
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3" id="__nav_3_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Blog
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Archive
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    数理基础
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            数理基础
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4_1" >
        
          
          <label class="md-nav__link" for="__nav_4_1" id="__nav_4_1_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    概率论
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_1">
            <span class="md-nav__icon md-icon"></span>
            概率论
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E6%95%B0%E7%90%86%E5%9F%BA%E7%A1%80/%E6%A6%82%E7%8E%87%E8%AE%BA/%E5%A4%9A%E7%BB%B4%E9%9A%8F%E6%9C%BA%E5%8F%98%E9%87%8F%E6%80%BB%E7%BB%93/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    二维r.v （联合）分布函数
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E6%95%B0%E7%90%86%E5%9F%BA%E7%A1%80/%E6%A6%82%E7%8E%87%E8%AE%BA/%E5%A4%A7%E6%95%B0%E5%AE%9A%E5%BE%8B%E5%92%8C%E6%9E%81%E9%99%90%E5%AE%9A%E7%90%86/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    大数定律 和 中心极限定理
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E6%95%B0%E7%90%86%E5%9F%BA%E7%A1%80/%E6%A6%82%E7%8E%87%E8%AE%BA/%E5%B8%B8%E7%94%A8%E9%9A%8F%E6%9C%BA%E5%8F%98%E9%87%8F%E5%88%86%E5%B8%83%E7%B1%BB%E5%9E%8B%E6%80%BB%E7%BB%93/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    常见随机变量分布类型知识总结
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E6%95%B0%E7%90%86%E5%9F%BA%E7%A1%80/%E6%A6%82%E7%8E%87%E8%AE%BA/%E6%8B%93%E5%B1%95%E9%97%AE%E9%A2%98/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    条件期望和重期望
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E6%95%B0%E7%90%86%E5%9F%BA%E7%A1%80/%E6%A6%82%E7%8E%87%E8%AE%BA/%E6%A6%82%E7%8E%87%E8%AE%BA%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    概率的公理化定义
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E6%95%B0%E7%90%86%E5%9F%BA%E7%A1%80/%E6%A6%82%E7%8E%87%E8%AE%BA/%E6%A6%82%E7%8E%87%E8%AE%BA%E7%9B%AE%E5%BD%95/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    拓展问题
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E6%95%B0%E7%90%86%E5%9F%BA%E7%A1%80/%E6%A6%82%E7%8E%87%E8%AE%BA/%E7%89%B9%E5%BE%81%E5%87%BD%E6%95%B0/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    特征函数
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E6%95%B0%E7%90%86%E5%9F%BA%E7%A1%80/%E6%A6%82%E7%8E%87%E8%AE%BA/%E9%9A%8F%E6%9C%BA%E5%8F%98%E9%87%8F%E7%9A%84%E6%95%B0%E6%8D%AE%E7%89%B9%E5%BE%81/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    点此可以查看常用随机变量分布类型的方差期望
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
        
        
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" checked>
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    本科课程
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            本科课程
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5_1" >
        
          
          <label class="md-nav__link" for="__nav_5_1" id="__nav_5_1_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    算法设计与分析
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_1">
            <span class="md-nav__icon md-icon"></span>
            算法设计与分析
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E7%AE%97%E6%B3%95%E8%AE%BE%E8%AE%A1%E4%B8%8E%E5%88%86%E6%9E%90/%E7%AE%97%E6%B3%95%E7%9B%AE%E5%BD%95/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    算法目录
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5_1_2" >
        
          
          <label class="md-nav__link" for="__nav_5_1_2" id="__nav_5_1_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Notes
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_5_1_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_1_2">
            <span class="md-nav__icon md-icon"></span>
            Notes
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E7%AE%97%E6%B3%95%E8%AE%BE%E8%AE%A1%E4%B8%8E%E5%88%86%E6%9E%90/Notes/Hashing/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Hashing
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E7%AE%97%E6%B3%95%E8%AE%BE%E8%AE%A1%E4%B8%8E%E5%88%86%E6%9E%90/Notes/NP%E9%97%AE%E9%A2%98/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    NP问题
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E7%AE%97%E6%B3%95%E8%AE%BE%E8%AE%A1%E4%B8%8E%E5%88%86%E6%9E%90/Notes/%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92DP/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    动态规划 DP
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E7%AE%97%E6%B3%95%E8%AE%BE%E8%AE%A1%E4%B8%8E%E5%88%86%E6%9E%90/Notes/%E5%9B%BE/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    图遍历问题
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E7%AE%97%E6%B3%95%E8%AE%BE%E8%AE%A1%E4%B8%8E%E5%88%86%E6%9E%90/Notes/%E5%B9%B6%E6%9F%A5%E9%9B%86-Union%20Find/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    并查集 Union Find
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E7%AE%97%E6%B3%95%E8%AE%BE%E8%AE%A1%E4%B8%8E%E5%88%86%E6%9E%90/Notes/%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    排序算法
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E7%AE%97%E6%B3%95%E8%AE%BE%E8%AE%A1%E4%B8%8E%E5%88%86%E6%9E%90/Notes/%E6%97%B6%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6%E9%97%AE%E9%A2%98/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    定义时间复杂度
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E7%AE%97%E6%B3%95%E8%AE%BE%E8%AE%A1%E4%B8%8E%E5%88%86%E6%9E%90/Notes/%E6%9F%A5%E6%89%BE/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    对数时间查找
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E7%AE%97%E6%B3%95%E8%AE%BE%E8%AE%A1%E4%B8%8E%E5%88%86%E6%9E%90/Notes/%E6%A0%88%E5%92%8C%E9%98%9F%E5%88%97/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    栈和队列
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E7%AE%97%E6%B3%95%E8%AE%BE%E8%AE%A1%E4%B8%8E%E5%88%86%E6%9E%90/Notes/%E8%B4%AA%E5%BF%83Greedy/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Optimizing by Greedy
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5_1_3" >
        
          
          <label class="md-nav__link" for="__nav_5_1_3" id="__nav_5_1_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    作业
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_5_1_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_1_3">
            <span class="md-nav__icon md-icon"></span>
            作业
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5_1_3_1" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../%E7%AE%97%E6%B3%95%E8%AE%BE%E8%AE%A1%E4%B8%8E%E5%88%86%E6%9E%90/%E4%BD%9C%E4%B8%9A/assignment1/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    Assignment1
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_5_1_3_1" id="__nav_5_1_3_1_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_5_1_3_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_1_3_1">
            <span class="md-nav__icon md-icon"></span>
            Assignment1
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E7%AE%97%E6%B3%95%E8%AE%BE%E8%AE%A1%E4%B8%8E%E5%88%86%E6%9E%90/%E4%BD%9C%E4%B8%9A/assignment1/assignment1/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Chatper 1 Abstract Compute Model
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5_1_3_2" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../%E7%AE%97%E6%B3%95%E8%AE%BE%E8%AE%A1%E4%B8%8E%E5%88%86%E6%9E%90/%E4%BD%9C%E4%B8%9A/assignment2/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    Assignment2
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_5_1_3_2" id="__nav_5_1_3_2_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_5_1_3_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_1_3_2">
            <span class="md-nav__icon md-icon"></span>
            Assignment2
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E7%AE%97%E6%B3%95%E8%AE%BE%E8%AE%A1%E4%B8%8E%E5%88%86%E6%9E%90/%E4%BD%9C%E4%B8%9A/assignment2/assignment2%20-%20%E6%8E%92%E5%BA%8F%E5%86%9B%E8%AE%AD/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Chapter 4 分治排序
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5_1_3_3" >
        
          
          <label class="md-nav__link" for="__nav_5_1_3_3" id="__nav_5_1_3_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Assignment3
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_5_1_3_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_1_3_3">
            <span class="md-nav__icon md-icon"></span>
            Assignment3
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E7%AE%97%E6%B3%95%E8%AE%BE%E8%AE%A1%E4%B8%8E%E5%88%86%E6%9E%90/%E4%BD%9C%E4%B8%9A/assignment3/231275036%20%E6%9C%B1%E6%99%97%20%E4%BD%9C%E4%B8%9A3/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    要求
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5_1_3_4" >
        
          
          <label class="md-nav__link" for="__nav_5_1_3_4" id="__nav_5_1_3_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Assignment4
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_5_1_3_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_1_3_4">
            <span class="md-nav__icon md-icon"></span>
            Assignment4
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E7%AE%97%E6%B3%95%E8%AE%BE%E8%AE%A1%E4%B8%8E%E5%88%86%E6%9E%90/%E4%BD%9C%E4%B8%9A/assignment4/23175036%20%E6%9C%B1%E6%99%97%20%E4%BD%9C%E4%B8%9A4/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    作业名录 ：任选20题- 8.1, 8.3, 8.5, 8.7, 8.8, 8.9, 8.10, 8.11, 8.14, 8.15, 8.18, 8.19, 8.20, 8.22, 8.24, 8.28 - 9.1, 9.2, 9.3, 9.4, 9.5, 9.8, 9.10
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5_1_3_5" >
        
          
          <label class="md-nav__link" for="__nav_5_1_3_5" id="__nav_5_1_3_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Assignment5
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_5_1_3_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_1_3_5">
            <span class="md-nav__icon md-icon"></span>
            Assignment5
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E7%AE%97%E6%B3%95%E8%AE%BE%E8%AE%A1%E4%B8%8E%E5%88%86%E6%9E%90/%E4%BD%9C%E4%B8%9A/assignment5/231275036%20%E6%9C%B1%E6%99%97%20%E4%BD%9C%E4%B8%9A5/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    231275036 朱晗 作业5
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E7%AE%97%E6%B3%95%E8%AE%BE%E8%AE%A1%E4%B8%8E%E5%88%86%E6%9E%90/%E4%BD%9C%E4%B8%9A/assignment5/Drawing%202025-05-29%2011.25.27.excalidraw/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Drawing 2025 05 29 11.25.27.excalidraw
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5_1_3_6" >
        
          
          <label class="md-nav__link" for="__nav_5_1_3_6" id="__nav_5_1_3_6_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Assignment6
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_5_1_3_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_1_3_6">
            <span class="md-nav__icon md-icon"></span>
            Assignment6
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E7%AE%97%E6%B3%95%E8%AE%BE%E8%AE%A1%E4%B8%8E%E5%88%86%E6%9E%90/%E4%BD%9C%E4%B8%9A/assignment6/231275036%20%E6%9C%B1%E6%99%97%20%E4%BD%9C%E4%B8%9A6/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    231275036 朱晗 作业6
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E7%AE%97%E6%B3%95%E8%AE%BE%E8%AE%A1%E4%B8%8E%E5%88%86%E6%9E%90/%E4%BD%9C%E4%B8%9A/assignment6/Drawing%202025-06-02%2010.37.47.excalidraw/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Drawing 2025 06 02 10.37.47.excalidraw
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5_1_3_7" >
        
          
          <label class="md-nav__link" for="__nav_5_1_3_7" id="__nav_5_1_3_7_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Assignment7
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_5_1_3_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_1_3_7">
            <span class="md-nav__icon md-icon"></span>
            Assignment7
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E7%AE%97%E6%B3%95%E8%AE%BE%E8%AE%A1%E4%B8%8E%E5%88%86%E6%9E%90/%E4%BD%9C%E4%B8%9A/assignment7/231275036%20%E6%9C%B1%E6%99%97%20%E4%BD%9C%E4%B8%9A7/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    ProblemSet7 NPC
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_2" checked>
        
          
          <label class="md-nav__link" for="__nav_5_2" id="__nav_5_2_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    计算机网络
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_5_2">
            <span class="md-nav__icon md-icon"></span>
            计算机网络
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5_2_1" >
        
          
          <label class="md-nav__link" for="__nav_5_2_1" id="__nav_5_2_1_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Notes
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_5_2_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_2_1">
            <span class="md-nav__icon md-icon"></span>
            Notes
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Notes/%E5%A4%9A%E5%AA%92%E4%BD%93%20MultiMedia%20networking/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    多媒体 MultiMedia networking
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Notes/%E5%BA%94%E7%94%A8%E5%B1%82%20Application%20Layer/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    应用层 Application Layer
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Notes/%E7%9B%AE%E5%BD%95%E5%92%8C%E8%80%83%E8%AF%95/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    考试方式
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Notes/%E7%BB%AA%E8%AE%BA/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    绪论
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Notes/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8%20Network%20Security/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    网络安全 Network Security
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Notes/%E7%BD%91%E7%BB%9C%E5%B1%82%20Network%20Layer/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    网络层 Network Layer
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Notes/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    计算机网络
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Notes/%E8%BF%90%E8%BE%93%E5%B1%82%20Transport%20Layer/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    运输层 Transport Layer
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Notes/%E9%93%BE%E8%B7%AF%E5%B1%82%20Direct%20Link%20Networks/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    链路层 Direct Link Networks
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5_2_2" >
        
          
          <label class="md-nav__link" for="__nav_5_2_2" id="__nav_5_2_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Exams
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_5_2_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_2_2">
            <span class="md-nav__icon md-icon"></span>
            Exams
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../exams/2020-network-exam/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    2020 network exam
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../exams/2020-re-network-exam/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    2020 计网重修班
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_2_3" checked>
        
          
          <label class="md-nav__link" for="__nav_5_2_3" id="__nav_5_2_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Exps
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_5_2_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_5_2_3">
            <span class="md-nav__icon md-icon"></span>
            Exps
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5_2_3_1" >
        
          
          <label class="md-nav__link" for="__nav_5_2_3_1" id="__nav_5_2_3_1_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Exp1
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_5_2_3_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_2_3_1">
            <span class="md-nav__icon md-icon"></span>
            Exp1
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../exp1/GPT-Teacher/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    GPT Teacher
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5_2_3_2" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../exp2/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    Exp2
    
  </span>
  

            </a>
            
          </div>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_5_2_3_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_2_3_2">
            <span class="md-nav__icon md-icon"></span>
            Exp2
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
      
        
          
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_2_3_3" checked>
        
          
          <div class="md-nav__link md-nav__container">
            <a href="./" class="md-nav__link md-nav__link--active">
              
  
  
  <span class="md-ellipsis">
    Exp3
    
  </span>
  

            </a>
            
          </div>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_5_2_3_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_5_2_3_3">
            <span class="md-nav__icon md-icon"></span>
            Exp3
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5_2_3_4" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../exp4/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    Exp4
    
  </span>
  

            </a>
            
          </div>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_5_2_3_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_2_3_4">
            <span class="md-nav__icon md-icon"></span>
            Exp4
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5_2_3_5" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../exp5/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    Exp5
    
  </span>
  

            </a>
            
          </div>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_5_2_3_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_2_3_5">
            <span class="md-nav__icon md-icon"></span>
            Exp5
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5_2_3_6" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../exp6/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    Exp6
    
  </span>
  

            </a>
            
          </div>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_5_2_3_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_2_3_6">
            <span class="md-nav__icon md-icon"></span>
            Exp6
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5_2_3_7" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../exp7/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    Exp7
    
  </span>
  

            </a>
            
          </div>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_5_2_3_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_2_3_7">
            <span class="md-nav__icon md-icon"></span>
            Exp7
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5_2_4" >
        
          
          <label class="md-nav__link" for="__nav_5_2_4" id="__nav_5_2_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Homework
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_5_2_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_2_4">
            <span class="md-nav__icon md-icon"></span>
            Homework
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../homework/HW2_231275036_%E6%9C%B1%E6%99%97/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Chapter 2 Application Layer
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../homework/HW3_231275036_%E6%9C%B1%E6%99%97/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    HW3 231275036 朱晗
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../homework/HW4_231275036_%E6%9C%B1%E6%99%97/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    HW4 231275036 朱晗
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../homework/HW5_231275036_%E6%9C%B1%E6%99%97/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    题目集合 R4 ,R6,R10,P2,P3,P4,P5,P7, P11,P12,P13,P14,P17,P18
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../homework/HW6_231275036_%E6%9C%B1%E6%99%97/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    题目集合（Direct Link Networks:） R4,R5,R6,R8,P1,P2,P3,P5,P6,P8, P10,P11,P14,P15,P18,P19,P23,P24,P25,P26
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../homework/HW7_231275036_%E6%9C%B1%E6%99%97/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    题目集合
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../homework/csnet/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Csnet
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5_3" >
        
          
          <label class="md-nav__link" for="__nav_5_3" id="__nav_5_3_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    金融机构运行和管理
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_3">
            <span class="md-nav__icon md-icon"></span>
            金融机构运行和管理
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E9%87%91%E8%9E%8D%E6%9C%BA%E6%9E%84%E8%BF%90%E8%A1%8C%E5%92%8C%E7%AE%A1%E7%90%86/%E8%AF%BE%E7%A8%8B%E8%AE%B0%E5%BD%95/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Lecture 2
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5_3_2" >
        
          
          <label class="md-nav__link" for="__nav_5_3_2" id="__nav_5_3_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Group Discussion
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_5_3_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_3_2">
            <span class="md-nav__icon md-icon"></span>
            Group Discussion
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E9%87%91%E8%9E%8D%E6%9C%BA%E6%9E%84%E8%BF%90%E8%A1%8C%E5%92%8C%E7%AE%A1%E7%90%86/Group%20Discussion/1/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    产业自金融实例及类型
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5_4" >
        
          
          <label class="md-nav__link" for="__nav_5_4" id="__nav_5_4_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    金融经济学
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_4">
            <span class="md-nav__icon md-icon"></span>
            金融经济学
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E9%87%91%E8%9E%8D%E7%BB%8F%E6%B5%8E%E5%AD%A6/%E9%87%8D%E7%82%B9/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    重点
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E9%87%91%E8%9E%8D%E7%BB%8F%E6%B5%8E%E5%AD%A6/%E9%87%91%E8%9E%8D%E7%BB%8F%E6%B5%8E%E5%AD%A6/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    金融经济学
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5_5" >
        
          
          <label class="md-nav__link" for="__nav_5_5" id="__nav_5_5_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    金融软件工程
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_5">
            <span class="md-nav__icon md-icon"></span>
            金融软件工程
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E9%87%91%E8%9E%8D%E8%BD%AF%E4%BB%B6%E5%B7%A5%E7%A8%8B/%E5%A4%8D%E4%B9%A0%E7%9B%AE%E5%BD%95/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    复习目录
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E9%87%91%E8%9E%8D%E8%BD%AF%E4%BB%B6%E5%B7%A5%E7%A8%8B/%E9%87%91%E8%9E%8D%E8%BD%AF%E4%BB%B6%E5%B7%A5%E7%A8%8BNote/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    金融软件工程Note
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5_5_3" >
        
          
          <label class="md-nav__link" for="__nav_5_5_3" id="__nav_5_5_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    SIAPs
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_5_5_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_5_3">
            <span class="md-nav__icon md-icon"></span>
            SIAPs
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E9%87%91%E8%9E%8D%E8%BD%AF%E4%BB%B6%E5%B7%A5%E7%A8%8B/SIAPs/SIAP/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    SIAP
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E9%87%91%E8%9E%8D%E8%BD%AF%E4%BB%B6%E5%B7%A5%E7%A8%8B/SIAPs/homework2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Homework2
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E9%87%91%E8%9E%8D%E8%BD%AF%E4%BB%B6%E5%B7%A5%E7%A8%8B/SIAPs/jrrg-231275036-%E6%9C%B1%E6%99%97-231275033-%E9%99%88%E4%BF%8A%E5%87%AF-231275019-%E6%AC%A7%E9%98%B3%E6%85%A7%E5%A9%B7-231275011-%E6%9D%A8%E6%83%A0%E6%96%87/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    需求文档
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E9%87%91%E8%9E%8D%E8%BD%AF%E4%BB%B6%E5%B7%A5%E7%A8%8B/SIAPs/%E6%8E%A5%E5%8F%A3%E6%96%87%E6%A1%A3/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    接口文档
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E9%87%91%E8%9E%8D%E8%BD%AF%E4%BB%B6%E5%B7%A5%E7%A8%8B/SIAPs/%E8%AE%BE%E8%AE%A1%E5%A4%A7%E6%A8%A1%E5%9E%8B%E5%A6%82%E4%BD%95%E7%94%A8/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    设计大模型如何用
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5_5_4" >
        
          
          <label class="md-nav__link" for="__nav_5_5_4" id="__nav_5_5_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Assignments
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_5_5_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_5_4">
            <span class="md-nav__icon md-icon"></span>
            Assignments
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5_5_4_1" >
        
          
          <label class="md-nav__link" for="__nav_5_5_4_1" id="__nav_5_5_4_1_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Assignment3
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_5_5_4_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_5_4_1">
            <span class="md-nav__icon md-icon"></span>
            Assignment3
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E9%87%91%E8%9E%8D%E8%BD%AF%E4%BB%B6%E5%B7%A5%E7%A8%8B/assignments/assignment3/Group01-%E9%9C%80%E6%B1%82%E6%96%87%E6%A1%A3-20250401-v1/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    目录
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E9%87%91%E8%9E%8D%E8%BD%AF%E4%BB%B6%E5%B7%A5%E7%A8%8B/assignments/assignment3/Group01-%E9%9C%80%E6%B1%82%E6%96%87%E6%A1%A3-20250402/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    目录
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E9%87%91%E8%9E%8D%E8%BD%AF%E4%BB%B6%E5%B7%A5%E7%A8%8B/assignments/assignment3/%E6%9C%AF%E8%AF%AD%E5%AE%9A%E4%B9%89/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    术语定义
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E9%87%91%E8%9E%8D%E8%BD%AF%E4%BB%B6%E5%B7%A5%E7%A8%8B/assignments/assignment3/%E9%9C%80%E6%B1%82%E6%96%87%E6%A1%A3/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    需求文档
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5_5_4_2" >
        
          
          <label class="md-nav__link" for="__nav_5_5_4_2" id="__nav_5_5_4_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Assignment4
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_5_5_4_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_5_4_2">
            <span class="md-nav__icon md-icon"></span>
            Assignment4
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E9%87%91%E8%9E%8D%E8%BD%AF%E4%BB%B6%E5%B7%A5%E7%A8%8B/assignments/assignment4/jrrg-231275036-%E6%9C%B1%E6%99%97-231275033-%E9%99%88%E4%BF%8A%E5%87%AF-231275019-%E6%AC%A7%E9%98%B3%E6%85%A7%E5%A9%B7-231275011-%E6%9D%A8%E6%83%A0%E6%96%87-exp4/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    1. 架构设计
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5_5_4_3" >
        
          
          <label class="md-nav__link" for="__nav_5_5_4_3" id="__nav_5_5_4_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Assignment5
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_5_5_4_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_5_4_3">
            <span class="md-nav__icon md-icon"></span>
            Assignment5
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E9%87%91%E8%9E%8D%E8%BD%AF%E4%BB%B6%E5%B7%A5%E7%A8%8B/assignments/assignment5/jrrg-231275036-%E6%9C%B1%E6%99%97-231275033-%E9%99%88%E4%BF%8A%E5%87%AF-231275019-%E6%AC%A7%E9%98%B3%E6%85%A7%E5%A9%B7-231275011-%E6%9D%A8%E6%83%A0%E6%96%87-exp5/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Jrrg 231275036 朱晗 231275033 陈俊凯 231275019 欧阳慧婷 231275011 杨惠文 exp5
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5_5_4_4" >
        
          
          <label class="md-nav__link" for="__nav_5_5_4_4" id="__nav_5_5_4_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Assignment6
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_5_5_4_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_5_4_4">
            <span class="md-nav__icon md-icon"></span>
            Assignment6
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E9%87%91%E8%9E%8D%E8%BD%AF%E4%BB%B6%E5%B7%A5%E7%A8%8B/assignments/assignment6/report/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Report
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  



<p>–# 实验目标
本次实验在<a href="vault/redkoldnote/docs/本科课程/计算机网络/exps/exp2/README.md">实验二</a> 的基础上，完成：
- 实现可靠传输机制
- 在有丢包的网络拓扑上实现文件传输</p>
<h1 id="_1">抓包调试<a class="headerlink" href="#_1" title="Permanent link">&para;</a></h1>
<p>看这里 <a href="../../../../vault/redkoldnote/docs/本科课程/计算机网络/exps/exp2/README.md#抓包">README</a></p>
<h1 id="_2">实验前的准备<a class="headerlink" href="#_2" title="Permanent link">&para;</a></h1>
<h2 id="_3">代码文件准备<a class="headerlink" href="#_3" title="Permanent link">&para;</a></h2>
<ol>
<li>需要添加仓库中的新文件：
<div class="highlight"><pre><span></span><code>exp3/ 
├─ bulk.py # 实现了文件传输功能的python脚本 
├─ tcp_topo_loss.py # 有丢包的mininet测试拓扑
├─ test.py # 测试脚本 
├─ pyarmor_runtime_000000 # 测试脚本依赖文件 
├─ ... 
├─ main.c # main.c 等实验二的文件
</code></pre></div></li>
<li></li>
<li>在实验目录和scripts子目录下执行<code>chmod +x *.sh</code>。为所有.sh脚本赋予执行权限</li>
<li><code>./create_randfile.sh</code> 执行脚本，生成本次实验中用于传输的文件 <code>client-input.dat</code></li>
<li>如果报错，可以看 exp2 中的解决方案。</li>
</ol>
<div class="highlight"><pre><span></span><code>sed<span class="w"> </span>-i<span class="w"> </span>-e<span class="w"> </span><span class="s1">&#39;s/\r$//&#39;</span><span class="w"> </span>yourscriptname.sh
</code></pre></div>
<h1 id="_4">可靠传输<a class="headerlink" href="#_4" title="Permanent link">&para;</a></h1>
<p>为了实现可靠传输，我们需要：
- 锁
- 滑动窗口</p>
<h2 id="_5">锁<a class="headerlink" href="#_5" title="Permanent link">&para;</a></h2>
<p>为了保证并发安全性，需要进行上锁。越细粒度的锁性能高，但写起来也更容易出错。这里采用三个粗粒度的锁保护 <code>struct tcp_sock</code>，框架中没有，需要手动创建在结构体中。</p>
<h3 id="_6">需要的锁<a class="headerlink" href="#_6" title="Permanent link">&para;</a></h3>
<ul>
<li><code>pthread_mutex_t sk_lock;</code> 保护<code>snd_una</code>等核心参数<ul>
<li>收包时：在<code>tcp_process</code>调用之前上锁，之后解锁。这样整个收包过程对socket参数的更改都是安全的。</li>
<li>发包时：在<code>tcp_send_packet</code>调用之前上锁，之后解锁。这里由于每个人实现不一样，加锁位置不一定一样，比如在调用<code>`tcp_send_packet</code>之前，用<code>tcp_tx_window_test</code>检查发送窗口，那么应该在<code>tcp_tx_window_test</code>之前上锁。</li>
</ul>
</li>
<li><code>pthread_mutex_t rcv_buf_lock</code> 保护<code>struct ring_buffer *rcv_buf</code><ul>
<li>每次访问<code>rcv_buf</code>时</li>
</ul>
</li>
<li><code>pthread_mutex_t send_buf_lock;</code>保护<code>struct list_head send_buf;</code><ul>
<li>每次访问 <code>send_buf</code> 时</li>
</ul>
</li>
</ul>
<p><strong>代码修改：</strong> 我在实验二中已经做了一些锁，可以把他们写进结构体，这样会更方便一点，调用起来也更直接明白。
对锁的初始化放在 <code>alloc_tcp_sock</code> 中</p>
<h3 id="sleep_on">sleep_on 和锁<a class="headerlink" href="#sleep_on" title="Permanent link">&para;</a></h3>
<p>上锁还有另一个需要注意的问题：<strong>在调用<code>sleep_on</code>之前，一定要释放占有的锁</strong>。举一个发送报文的例子：</p>
<p><code>pthread_mutex_lock(&amp;tsk-&gt;sk_lock); while (!tcp_tx_window_test(tsk)) {     // 如果发送窗口不足，先释放锁，再等待wait_send信号激活     pthread_mutex_unlock(&amp;tsk-&gt;sk_lock);     sleep_on(tsk-&gt;wait_send);     pthread_mutex_lock(&amp;tsk-&gt;sk_lock); } tcp_send_packet(tsk, data_pkt, data_pkt_len); pthread_mutex_unlock(&amp;tsk-&gt;sk_lock);</code></p>
<h2 id="_7">滑动窗口<a class="headerlink" href="#_7" title="Permanent link">&para;</a></h2>
<h3 id="_8">滑动窗口机制：<a class="headerlink" href="#_8" title="Permanent link">&para;</a></h3>
<p><img alt="滑动窗口图" src="https://netdocs.lab427.top/images/lab3/Snipaste_2025-03-19_22-19-46.png" /></p>
<h3 id="_9">怎样分割窗口？<a class="headerlink" href="#_9" title="Permanent link">&para;</a></h3>
<p><div class="highlight"><pre><span></span><code><span class="n">Send</span><span class="w"> </span><span class="n">Sequence</span><span class="w"> </span><span class="n">Space</span>

<span class="w">                 </span><span class="mi">1</span><span class="w">         </span><span class="mi">2</span><span class="w">          </span><span class="mi">3</span><span class="w">          </span><span class="mi">4</span>
<span class="w">            </span><span class="o">----------|----------|----------|----------</span>
<span class="w">                   </span><span class="n">SND</span><span class="p">.</span><span class="n">UNA</span><span class="w">    </span><span class="n">SND</span><span class="p">.</span><span class="n">NXT</span><span class="w">    </span><span class="n">SND</span><span class="p">.</span><span class="n">UNA</span>
<span class="w">                                        </span><span class="o">+</span><span class="n">SND</span><span class="p">.</span><span class="n">WND</span>

<span class="w">      </span><span class="mi">1</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">old</span><span class="w"> </span><span class="n">sequence</span><span class="w"> </span><span class="n">numbers</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">have</span><span class="w"> </span><span class="n">been</span><span class="w"> </span><span class="n">acknowledged</span>
<span class="w">      </span><span class="mi">2</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">sequence</span><span class="w"> </span><span class="n">numbers</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">unacknowledged</span><span class="w"> </span><span class="n">data</span>
<span class="w">      </span><span class="mi">3</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">sequence</span><span class="w"> </span><span class="n">numbers</span><span class="w"> </span><span class="n">allowed</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">new</span><span class="w"> </span><span class="n">data</span><span class="w"> </span><span class="n">transmission</span>
<span class="w">      </span><span class="mi">4</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">future</span><span class="w"> </span><span class="n">sequence</span><span class="w"> </span><span class="n">numbers</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">not</span><span class="w"> </span><span class="n">yet</span><span class="w"> </span><span class="n">allowed</span>

<span class="w">                        </span><span class="n">Send</span><span class="w"> </span><span class="n">Sequence</span><span class="w"> </span><span class="n">Space</span>
</code></pre></div>
<code>snd_una, snd.nxt, snd.una, snd.wnd</code> 都以字节为单位. （看看 wireshark 的 len 和 seq ack 增长的关系就理解了）</p>
<h3 id="sender">发送方(Sender)行为：<a class="headerlink" href="#sender" title="Permanent link">&para;</a></h3>
<p>发送方通过计算某次发送包所处在的窗口来判断自己行为
- 已经被接收的字节：<code>seq &lt; snd_una</code>
- 发送了，但为收到ACK的字节：<code>snd_una &lt;= seq &lt; snd_nxt</code>
- 未发送，且当前发送窗口剩余大小允许继续发送的字节：<code>snd_nxt &lt;= seq &lt; snd_una + snd_wnd</code>
- 发送窗口剩余大小不允许继续发送的字节：<code>seq &gt;= snd_una + snd_wnd</code></p>
<h3 id="receiver">接收方(Receiver)行为<a class="headerlink" href="#receiver" title="Permanent link">&para;</a></h3>
<p><strong>接收方：</strong></p>
<p>接收方采用<strong>累计确认机制</strong>进行回复，按照课本的GBN机制，接收方是不维护窗口的。不过一般还是会维护乱序队列（Out-of-Order Queue），对应于<code>tcp_sock</code>中的<code>rcv_ofo_buf</code>，这是下一节要完成的内容，本节还是假设没有窗口。</p>
<p>累计确认机制下，
- 接收端发送的ACK报文的应答序号 <code>tcp-&gt;ack</code> 始终是自己希望收到的下一个字节 <code>tsk-&gt;rcv_nxt</code>
- 这一点与是否实现乱序队列无关，因而实验中发送ACK报文只需要调用 <code>tcp_send_control_packet(tsk, ACK)</code>，序号的设置会由函数自动进行。</p>
<p>在本节中，接收方收到一个报文，需要检查该报文的序号（范围 <code>[cb-&gt;seq, cb-&gt;seq_end)</code>）和自己期望收到的序号 <code>tsk-&gt;rcv_nxt</code> 的关系。
注意，比较序列号时最好使用 <code>tcp.h</code> 中提供的比较函数 <code>less_than_32b</code> 等，它们会自动处理整数的<strong>溢出问题。</strong>（此溢出问题在 exp2 中遇到过）
- <code>cb-&gt;seq_end &lt;= tsk-&gt;rcv_nxt</code>：收到了之前确认过的报文，不需要处理报文中的数据，直接回复ACK。这种情况在无丢包时不应该出现，但可以添加这一处理，防止python侧发送这样的报文（例如KeepAlive报文）。
- <code>tsk-&gt;rcv_nxt == cb-&gt;seq</code>：刚好是自己希望收到的报文，将数据上送<code>rcv_buf</code>
- <code>tsk-&gt;rcv_nxt &lt; cb-&gt;seq</code>：乱序报文，后面处理，这里直接回复ACK，数据丢弃。
- 其它情况不应出现</p>
<h1 id="_10">我该怎样做？<a class="headerlink" href="#_10" title="Permanent link">&para;</a></h1>
<h2 id="-window">第一阶段-无丢包可靠传输（window）<a class="headerlink" href="#-window" title="Permanent link">&para;</a></h2>
<h3 id="_11">完善锁机制<a class="headerlink" href="#_11" title="Permanent link">&para;</a></h3>
<h4 id="_12">锁谁的问题<a class="headerlink" href="#_12" title="Permanent link">&para;</a></h4>
<p>锁的作用对象是线程，我们为了保护数据才设计锁。
本试验的线程有：
- 协议栈 <code>ustack_run</code> 协议栈收包功能，进行一系列调用最终调用到 <code>tcp_process</code>
- Timer (<code>tcp_timer_thread)</code> 
    - 运行在子线程，实现TCP协议中和时间相关的内容（超时等机制）
- 用户程序 <code>(tcp_server OR tcp_client)</code>
    - 运行在子线程，实现TCP应用。它在调用<code>tcp_sock_write</code>时会进行协议栈发包操作。</p>
<pre><code>- p.s. 可以将tcp_sock_write理解为linux中的系统调用，调用tcp_sock_write函数发生在“用户态”，具体执行发生在“内核态”。仅仅方便理解，与后续实验关系不大。
</code></pre>
<h4 id="_13">用几个锁<a class="headerlink" href="#_13" title="Permanent link">&para;</a></h4>
<ul>
<li><code>pthread_mutex_t sk_lock;</code> 保护<code>snd_una</code>等核心参数<ul>
<li>收包时：在<code>tcp_process</code>调用之前上锁，之后解锁。这样整个收包过程对socket参数的更改都是安全的。</li>
<li>发包时：在<code>tcp_send_packet</code>调用之前上锁，之后解锁。这里由于每个人实现不一样，加锁位置不一定一样，比如在调用<code>`tcp_send_packet</code>之前，用<code>tcp_tx_window_test</code>检查发送窗口，那么应该在<code>tcp_tx_window_test</code>之前上锁。</li>
</ul>
</li>
<li><code>pthread_mutex_t rcv_buf_lock</code> 保护<code>struct ring_buffer *rcv_buf</code><ul>
<li>每次访问<code>rcv_buf</code>时</li>
</ul>
</li>
<li><code>pthread_mutex_t send_buf_lock;</code>保护<code>struct list_head send_buf;</code><ul>
<li>每次访问<code>send_buf</code>时</li>
</ul>
</li>
</ul>
<p>到这次实验为止还有一个锁，是保护 <code>timer_list</code> 的 <code>timer_list_lock</code></p>
<p>我们可以把每个锁写成 sock 结构体的成员，这样调用起来很方便</p>
<h3 id="_14">完成更新窗口函数<a class="headerlink" href="#_14" title="Permanent link">&para;</a></h3>
<h4 id="_15">编写代码<a class="headerlink" href="#_15" title="Permanent link">&para;</a></h4>
<p>要添加如下的代码：
<div class="highlight"><pre><span></span><code><span class="cp">#define TCP_MSS (ETH_FRAME_LEN - ETHER_HDR_SIZE - IP_BASE_HDR_SIZE - TCP_BASE_HDR_SIZE)</span>

<span class="c1">// 使用 tsk-&gt;snd_una, tsk-&gt;snd_wnd, tsk-&gt;snd_nxt 计算剩余窗口大小，如果大于 TCP_MSS，则返回 1，否则返回 0</span>
<span class="kt">int</span><span class="w"> </span><span class="n">tcp_tx_window_test</span><span class="w"> </span><span class="p">(</span><span class="k">struct</span><span class="w"> </span><span class="nc">tcp_sock</span><span class="w"> </span><span class="o">*</span><span class="n">tsk</span><span class="p">)</span>
</code></pre></div></p>
<h3 id="_16">修改报文收发之后的逻辑<a class="headerlink" href="#_16" title="Permanent link">&para;</a></h3>
<h3 id="tcpapp">修改 tcp.app 功能<a class="headerlink" href="#tcpapp" title="Permanent link">&para;</a></h3>
<p>这里的功能：
- Client：实现发送信息，具体是脚本生成的 <code>client-input.dat</code> 文件
- Server：实现接受信息，并将文件写入。
值得注意的是：我们一次发送的信息，最多是一个 <code>TCP_MSS</code>，这是在实验文档中提到了的一个宏，需要在本次试验 <strong>自行添加</strong> 到源码中。(本质上是 IP 层发的包最多有多少能装数据，<del>很有可能你的 AI 给你随便设了一个 2048 然后报错</del>).</p>
<p>通过设置 <code>TCP_MSS</code> 之后，client 分批次发送这个文件，直到 snd_wnd 为 0. 如果不加处理，这里构成一个典型的死锁：</p>
<blockquote>
<p>当接收方通知接收窗口归零时，发送主机无法再发送任何内容，直到收到新的ACK通告的窗口变为非零值。然而发送方不发送消息，接收方也不会发送ACK。此时，发送方和接收方都不再发送任何报文，发生死锁。</p>
</blockquote>
<p>解决方案见下一部分</p>
<h3 id="-persisttimer">解决窗口归零问题-PersistTimer<a class="headerlink" href="#-persisttimer" title="Permanent link">&para;</a></h3>
<p>有两种解决方案：
- Window Update Message
    - 接收方在接受窗口从 0 变为非 0 之后，主动发送一个 ACK
    - 问题：不可靠传输。如果 ACK 丢包，仍然是死锁
- Persist Timer:
    - 即使发送方被通知接收窗口归零，发送方仍然会隔一段时间发送一个 Probe 报文。包含一个字节的数据。用这个数据试探新的窗口。</p>
<p>为了做得更好，我们选择实现 Persist Timer</p>
<h3 id="persist-timer">实现 Persist Timer<a class="headerlink" href="#persist-timer" title="Permanent link">&para;</a></h3>
<ol>
<li><code>tcp_set_persist_timer</code>：启用persist timer</li>
</ol>
<div class="highlight"><pre><span></span><code><span class="w">    </span><span class="cm">/* 1. 如果已经启用，则直接退出 2. 创建定时器，设置各个成员变量，设置timeout为比如TCP_RETRANS_INTERVAL_INITIAL 3. 增加tsk的引用计数，将定时器加入timer_list末尾 */</span><span class="w"> </span>
<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">tcp_set_persist_timer</span><span class="p">(</span><span class="k">struct</span><span class="w"> </span><span class="nc">tcp_sock</span><span class="w"> </span><span class="o">*</span><span class="n">tsk</span><span class="p">);</span>
</code></pre></div>
<ol>
<li>
<p><code>tcp_unset_persist_timer</code>：禁用persist timer</p>
<p><code>c
/* 
1. 如果已经禁用，不做任何事 
2. 调用free_tcp_sock减少tsk引用计数，并从链表中移除timer 
*/ 
void tcp_unset_persist_timer(struct tcp_sock *tsk);</code>
2. <code>tcp_send_probe_packet</code>：发送Probe报文</p>
</li>
</ol>
<div class="highlight"><pre><span></span><code><span class="w">    </span><span class="cm">/* 仿照tcp_send_packet函数，发送probe报文。几处改动： 1. 发送的序列号设置为一个已经ACK过的序列号（比如tsk-&gt;snd_una - 1） 2. 不需要更新snd_nxt 3. 不需要设置重传相关内容 4. TCP负载为一个任意的字节 */</span><span class="w"> </span>
<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">tcp_send_probe_packet</span><span class="p">(</span><span class="k">struct</span><span class="w"> </span><span class="nc">tcp_sock</span><span class="w"> </span><span class="o">*</span><span class="n">tsk</span><span class="p">);</span><span class="w">    </span><span class="err">```</span>


<span class="mf">3.</span><span class="w"> </span><span class="err">`</span><span class="n">tcp_scan_timer_list</span><span class="err">`</span><span class="n">中增加对Persist</span><span class="w"> </span><span class="n">Timer超时的处理</span><span class="err">。</span><span class="n">如果TCP没有关闭</span><span class="err">，</span><span class="n">且发送窗口</span><span class="err">`</span><span class="n">snd_wnd</span><span class="err">`</span><span class="n">小于TCP_MSS</span><span class="err">，</span><span class="n">则发送一个Probe报文</span><span class="err">、</span><span class="n">重置时间</span><span class="err">，</span><span class="n">否则关闭该定时器</span><span class="err">。</span>

<span class="mf">4.</span><span class="w"> </span><span class="n">修改</span><span class="w"> </span><span class="err">`</span><span class="n">tcp_update_window</span><span class="err">`</span><span class="w"> </span><span class="n">函数</span><span class="err">。</span><span class="n">比较简单的修改方式是</span><span class="err">，</span><span class="n">只要新的</span><span class="w"> </span><span class="err">`</span><span class="n">snd_wnd</span><span class="err">`</span><span class="w"> </span><span class="n">小于TCP_MSS</span><span class="err">，</span><span class="n">就调用</span><span class="w"> </span><span class="err">`</span><span class="n">tcp_set_persist_timer</span><span class="err">`，</span><span class="n">否则调用</span><span class="w"> </span><span class="err">`</span><span class="n">tcp_unset_persist_timer</span><span class="err">`，</span><span class="n">这两个函数在已经启用或禁用时不会重复操作</span><span class="err">。</span><span class="n">当然也可以加些判断</span><span class="err">，</span><span class="n">只在归零和恢复的时候调用这两个函数</span><span class="err">。</span>

<span class="cp">### 是怎样触发的？</span>
<span class="n">是这样的</span><span class="err">：</span>
<span class="err">```</span><span class="n">mermaid</span>
<span class="n">flowchart</span><span class="w"> </span><span class="n">TD</span>
<span class="n">A</span><span class="p">[</span><span class="n">接收方动态更新rcv_nxt</span><span class="p">,</span><span class="n">rcv_wnd</span><span class="p">]</span><span class="o">--&gt;</span><span class="n">B</span><span class="p">[</span><span class="n">通过发包cb方式告诉发送方</span><span class="err">，</span><span class="n">即所谓adv_wnd</span><span class="p">]</span>
<span class="n">B</span><span class="o">--&gt;</span><span class="n">C</span><span class="p">[</span><span class="n">发送包收到包</span><span class="err">，</span><span class="n">首先更新自己的窗口即调用tcp_update_window函数</span><span class="err">，</span><span class="n">确定是不是能接着发</span><span class="err">，</span><span class="n">或者停止</span><span class="p">]</span>
<span class="n">C</span><span class="o">--&gt;|</span><span class="n">可以接着发</span><span class="o">|</span><span class="n">A</span>
<span class="n">C</span><span class="o">--&gt;|</span><span class="n">不能发了</span><span class="err">，</span><span class="n">等待窗口唤醒</span><span class="o">|</span><span class="n">D</span><span class="p">[</span><span class="n">启动persist</span><span class="w"> </span><span class="n">timer</span><span class="p">]</span>
</code></pre></div>
<h4 id="_17">细节问题<a class="headerlink" href="#_17" title="Permanent link">&para;</a></h4>
<p><code>Persist Timer</code> 是一个全新的计时器，建议把它写进 <code>tcp_sock</code> 的结构体，类似于 <code>timewait</code> 和 <code>retranstimer</code>
比如下面的宏，可能你也要照猫画虎一下
<div class="highlight"><pre><span></span><code>#define timewait_to_tcp_sock(t) \
(struct tcp_sock *)((char *)(t) - offsetof(struct tcp_sock, timewait))

#define retranstimer_to_tcp_sock(t) \
(struct tcp_sock *)((char *)(t) - offsetof(struct tcp_sock, retrans_timer)) 

#define persisttimer_to_tcp_sock(t) \
(struct tcp_sock *)((char *)(t) - offsetof(struct tcp_sock, persist_timer))
</code></pre></div>
这样做之后应该可以正常发送 probe packet</p>
<hr />
<h2 id="-gbn">第二阶段-丢包重传（GBN）<a class="headerlink" href="#-gbn" title="Permanent link">&para;</a></h2>
<h3 id="_18">双方的关键结构<a class="headerlink" href="#_18" title="Permanent link">&para;</a></h3>
<p>这部分的逻辑是实现最简单的丢包环境处理：
- 接收方：实现组织乱序数据的队列
    - <code>rcv_ofo_buffer</code>（out of order）
        - 将所有数据包放入其中，放到该放的位置
        - 不再关心数据的 <code>IP</code> , <code>TCP</code> 头，只关心 <code>payload</code> 和 <code>pl_len</code>
            - 所以结构体也是实现这两个
- 发送方：实现 <code>send_buf</code> 和重传计时器为重传做准备
    - 发送方在发送含有 <code>SYN</code> 或 <code>FIN</code> 的控制包，或者含有数据的报文时（在  <code>tcp_send_packet</code> 中检查，如果 <code>tcp_data_len&gt;0</code>  ）就加入 <code>send_buf</code>
        - 本质是为重传做准备。
    - 根据 peer 传来的 <code>ACK</code> 包检查，将已经确定不需要重传的包，即 <code>ack of peer &gt;= seq of packcet + pl_len</code> 移出去
    - 如果 <code>send_buf</code> 为空，则不需要再记录重传，执行 <code>tcp_unset_retrans_timer</code></p>
<h3 id="_19">重要参数说明：<a class="headerlink" href="#_19" title="Permanent link">&para;</a></h3>
<p>对于维护乱序队列 <code>rcv_ofo_buffer</code>：需要认识以下几点：
首先，只有有数据的包才需要放入乱序队列。
    这也是为什么 probe packet 要携带任意一字节数据，并设置为已经 ack 过的 seq，以根据以下的判断，忽视 probe packet 的字节，同时唤醒 <code>wait_recv</code> 更新窗口并告知 <code>peer</code> 可以继续发包。
-  <code>peer</code> 发来一个包，其有三种情况
    - <code>cb-&gt;seq_end &lt;= tsk-&gt;rcv_nxt</code>，重复的包（由于有数据，所以 <code>tsk-&gt;rcv_nxt &gt; cb-&gt;seq_end &gt; cb-&gt;seq,</code>）
        - 直接忽视
    - <code>cb-&gt;seq== tsk-&gt;rcv_nxt</code>
        - 正是我需要的(顺序)。读取
    - <code>cb-&gt;seq &gt; tsk-&gt;rcv_nxt</code>
        - 乱序包。放入队列等待。</p>
<h1 id="bug">实验 bug 动态记录<a class="headerlink" href="#bug" title="Permanent link">&para;</a></h1>
<p><code>2025-04-09</code>: 出现 tcp_stack: include/ring_buffer. H:79: write_ring_buffer: Assertion <code>size &gt; 0 &amp;&amp; ring_buffer_free(rbuf) &gt;= size' failed.</code> 断言错误，猜测是 <code>ring_buffer</code> 没有被及时读掉，导致装的太多了. 
解决了</p>
<p>2025-4-14:
需要完善 client 发送到完毕之后的逻辑。即：你需要让 server 指导，client 已经发完了，进入关闭逻辑。
但是你的 read 又会阻塞等待。所以就死锁了
![[Pasted image 20250414175453.png]]
在更正这一点后，server 可以正常处理，且发现 <code>diff</code> 结果正确
![[diff-ans.png]]</p>
<h2 id="bug_1">第二阶段 bug<a class="headerlink" href="#bug_1" title="Permanent link">&para;</a></h2>
<p>![[Pasted image 20250419103314.png]]
发送方 client没有正确删除 ack ，导致直接重发
经检查，本质是 server 的读函数有问题，导致 rcv_nxt 没有正确更新</p>
<p>进一步定位，是 <code>tcp_rcv_ofo_buffer_add_packet</code> 写的有问题。在空的时候，直接添加就可以了。这样 rcv_nxt 可以正确更新。然后又出现了死锁问题：<code>tcp_write</code> 函数试图写，但是卡住了，检查是在 <code>tcp_rcv_ofo_buffer_add_packe</code> 锁了不该锁的 <code>tsk-&gt;rcv_buf_lock</code></p>
<blockquote>
<p>[!TIP]
不需要给 rcv_ofo_buffer 加锁！</p>
</blockquote>
<p>1179664是特殊的数字吗?
- 现在程序传输到 seq=1179681 出现异常，是这个不应该存在的 <code>1179664</code>（而 client 根本没有发送这样一个 seq 的包，应该是内存读取错误）干扰了。而这个 1799664 之前我也遇到过。
- ![[Pasted image 20250419115408.png]]</p>
<h3 id="probe-packet">Probe packet<a class="headerlink" href="#probe-packet" title="Permanent link">&para;</a></h3>
<p>这个 probe packet 应该被忽视，但是在这里被我写进去了。（1 byte）得改一下处理逻辑：如果已经被 ack 过，直接忽视</p>
<ul>
<li>但是我改过逻辑后，仍然没有忽视。然后我把 <code>probe packet</code> 的 <code>seq</code> 改成 <code>1</code>，一个肯定被 ack 过的值，但是仍然没有用，<code>rcv_nxt</code> 甚至被篡改为 <code>1</code></li>
<li>发现是这个细节没有改（实验二遗留问题）：
<div class="highlight"><pre><span></span><code><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">cb</span><span class="o">-&gt;</span><span class="n">pl_len</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="p">(</span><span class="n">cb</span><span class="o">-&gt;</span><span class="n">flags</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">TCP_PSH</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="c1">// 含有数据，将数据上送recv_ofo_buffer（乱序队列）</span>
<span class="n">tsk</span><span class="o">-&gt;</span><span class="n">rcv_nxt</span><span class="o">=</span><span class="n">cb</span><span class="o">-&gt;</span><span class="n">seq</span><span class="p">;</span>
<span class="kt">int</span><span class="w"> </span><span class="n">total_moved</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">tcp_recv_ofo_buffer_add_packet</span><span class="p">(</span><span class="n">tsk</span><span class="p">,</span><span class="w"> </span><span class="n">cb</span><span class="p">);</span>
<span class="p">(...)</span>
</code></pre></div>
这里不能直接在不知道合不合法基础上篡改！</li>
</ul>
<p>![[Pasted image 20250419134344.png]]
现在是能够正常完成大部分文件传输，但是经过 <code>code --diff</code> 查看，应该是丢包的部分都没有正常读过来</p>
<h3 id="_20">丢包行为<a class="headerlink" href="#_20" title="Permanent link">&para;</a></h3>
<p>现在测试发现，其实没有丢包，但可能因为卡顿对方触发了重传，但我发的 ack 没有被正常接受</p>
<h3 id="_21">出现死锁：窗口问题<a class="headerlink" href="#_21" title="Permanent link">&para;</a></h3>
<p>又是 read 函数释放窗口溢出来... 溢出后从 <code>60000多</code> 直接变成 <code>1295</code>
这次这么写：
<code>tsk-&gt;rcv_wnd=ring_buffer_free(tsk-&gt;rcv_buf);</code>
解决了窗口死锁</p>
<h3 id="ack">收到应该写的，但是却没写，导致 ack 失败<a class="headerlink" href="#ack" title="Permanent link">&para;</a></h3>
<p>从重定向的输出看，<code>1179681</code> 压根没有被插入。（可以参考以前 <code>1178221</code> d 的行为，就被插入了）</p>
<p>![[Pasted image 20250419162409.png]]</p>
<p>抓包发现异常：</p>
<p>![[Pasted image 20250419170057.png]]
每次第一次出现重传都会失败。由于丢包环境（人为丢包），重传发生是正常的。但是这个 ack 是错误设置的 <code>16777216</code>
事实上，<code>16777216=2^24</code> 猜测可能是内存读取有错误了</p>
<p>经检查是 <code>tcp</code> 的大端序设置问题，这样就好了
<div class="highlight"><pre><span></span><code><span class="k">struct</span><span class="w"> </span><span class="nc">tcphdr</span><span class="w"> </span><span class="o">*</span><span class="n">tcp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">packet_to_tcp_hdr</span><span class="p">(</span><span class="n">packet</span><span class="p">);</span>

<span class="c1">//tcp-&gt;ack=tsk-&gt;rcv_nxt; // Update ACK number to the current receive next number</span>
<span class="n">tcp</span><span class="o">-&gt;</span><span class="n">ack</span><span class="o">=</span><span class="n">htonl</span><span class="p">(</span><span class="n">tsk</span><span class="o">-&gt;</span><span class="n">rcv_nxt</span><span class="p">);</span>
</code></pre></div></p>
<h3 id="_22">总是发太多文件，结果重传赶不上我发的超时<a class="headerlink" href="#_22" title="Permanent link">&para;</a></h3>
<p>再仔细读文档，发现有这样一个说明：
<div class="highlight"><pre><span></span><code><span class="cm">/*</span>
<span class="cm">1. 确认定时器是启用状态</span>
<span class="cm">2. 如果发送队列为空，则删除定时器，并且唤醒发送数据的进程。否则重置计时器，包括timeout和重传计数。</span>

<span class="cm">注意调用这个函数之前，需要完成对发送队列的更新。</span>
<span class="cm">*/</span>
<span class="kt">void</span><span class="w"> </span><span class="nf">tcp_update_retrans_timer</span><span class="p">(</span><span class="k">struct</span><span class="w"> </span><span class="nc">tcp_sock</span><span class="w"> </span><span class="o">*</span><span class="n">tsk</span><span class="p">);</span>
</code></pre></div>
所以，重传发生（丢包了）时，应该专注于重传，别再发文件了。
尝试在 <code>tcp_send_data</code> 中修改。</p>
<p>这个卡顿还可能是你的乱序队列做的有问题，清理不及时，导致遍历越来越卡最后超越时限导致的。</p>
<h3 id="_23">注意队列初始化<a class="headerlink" href="#_23" title="Permanent link">&para;</a></h3>
<p>所有队列都需要用 <code>init_list_head</code> 初始化。
现在解决了 <code>move_ofo_buffer</code> 的逻辑问题（出现奇怪的内存 bug，魔法数字和 0，0，0 啥的）</p>
<h2 id="python-bugpytransc">Python 端行为 bug（PyTransC）<a class="headerlink" href="#python-bugpytransc" title="Permanent link">&para;</a></h2>
<ul>
<li>进行 PyTransC 测试，发现 FIN 不对。那么应该发个 ACK 告诉对面我没收到？</li>
<li>可能也未必
![[Pasted image 20250419200148.png]]</li>
</ul>
<p>抓包发现：丢包后 Py 进行 Fast Retransmission 但是服务端还是 dup ack 没有真正收到。
![[Pasted image 20250420110022.png]] 然后突变 <code>rcv_nxt</code>
![[Pasted image 20250420113119.png]]
这里是绝对 ack（wireshark 显示相对 ack 27513）（对应 line 358）
在调试文件中我找到了这一行：你可以搜索 KOLD-FIND 来找
![[Pasted image 20250420113936.png]]
但看起来在收到快重传之后正确进行了处理啊
frame contains "test"</p>
<p>Server 好像读了好几次这个重传!！有好几个!
![[Pasted image 20250420114838.png]]
![[Pasted image 20250420114911.png]]
但是抓包过滤，发现只有这一个包有这个内容。所以一定是 server 读错了</p>
<p>最后发现是深拷贝和浅拷贝的问题：感谢 GPT
这个是深拷贝
<div class="highlight"><pre><span></span><code><span class="n">new_entry</span><span class="o">-&gt;</span><span class="n">payload</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">malloc</span><span class="p">(</span><span class="n">cb</span><span class="o">-&gt;</span><span class="n">pl_len</span><span class="p">);</span>
<span class="n">memcpy</span><span class="p">(</span><span class="n">new_entry</span><span class="o">-&gt;</span><span class="n">payload</span><span class="p">,</span><span class="w"> </span><span class="n">cb</span><span class="o">-&gt;</span><span class="n">payload</span><span class="p">,</span><span class="w"> </span><span class="n">cb</span><span class="o">-&gt;</span><span class="n">pl_len</span><span class="p">);</span>
</code></pre></div></p>
<p>原来的是浅拷贝：
<div class="highlight"><pre><span></span><code><span class="n">new_entry</span><span class="o">-&gt;</span><span class="n">payload</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">cb</span><span class="o">-&gt;</span><span class="n">payload</span>
</code></pre></div>
这样当 cb 指针上的值变化（这个是我所不了解的），我在 <code>rcv_ofo_buf</code> 队列中没有被及时清除去的，就会获得和重传数据一样的 <code>payload！</code></p>
<p><div class="highlight"><pre><span></span><code># 编译测试
```bash
# 终端1 
sudo python3 tcp_topo.py 
dump
 h1 ./tcp_stack server 10001 
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="c1"># 终端2 </span>
<span class="nb">export</span><span class="w"> </span><span class="nv">PID</span><span class="o">=</span>xxxx<span class="w"> </span><span class="c1"># xxxx是dump查到的h2的pid </span>
sudo<span class="w"> </span>mnexec<span class="w"> </span>-a<span class="w"> </span><span class="nv">$PID</span><span class="w"> </span>./tcp_stack<span class="w"> </span>client<span class="w"> </span><span class="m">10</span>.0.0.1<span class="w"> </span><span class="m">10001</span>
</code></pre></div></p>
<h1 id="tip">一些小 tip<a class="headerlink" href="#tip" title="Permanent link">&para;</a></h1>
<h2 id="dat">不要手动删除 <code>.dat</code> 中的内容<a class="headerlink" href="#dat" title="Permanent link">&para;</a></h2>
<ol>
<li>
<p><strong>文件打开模式</strong>：</p>
<ul>
<li>
<p>在服务器代码中，文件是以 <code>"wb"</code> 模式打开的：</p>
<p><code>FILE *file = fopen("server-output.dat", "wb");</code></p>
<ul>
<li><code>"wb"</code> 模式会在打开文件时清空文件内容。如果文件不存在，会创建一个新文件。</li>
<li>如果文件存在但手动清空内容，文件指针可能仍然指向文件的开头，但文件系统可能没有正确同步，导致写入失败。</li>
<li><strong>文件系统缓存</strong>：</li>
</ul>
</li>
<li>
<p>手动清空文件内容可能没有正确刷新文件系统的缓存，导致程序在写入时遇到问题。</p>
</li>
<li>
<p><strong>权限问题</strong>：</p>
</li>
<li>
<p>如果手动清空文件内容时更改了文件的权限或属性，程序可能无法正常写入。</p>
</li>
</ul>
<h2 id="wnd-test"><code>wnd test</code> 异常行为<a class="headerlink" href="#wnd-test" title="Permanent link">&para;</a></h2>
<p>你可能看到 <code>remaining window</code> 变成一个非常奇怪的值，或者很接近这个值： 
<code>4294967296</code></p>
</li>
</ol>
<p>实际上, <code>2^32=4294967296</code> 你可能发生了溢出！</p>
<p>为了避免发生这个情况，还是建议使用实现好的 <code>less_than_32b</code> 函数进行比较</p>
<h2 id="_24">“喜闻乐见的”窗口更新异常<a class="headerlink" href="#_24" title="Permanent link">&para;</a></h2>
<p>![[wireshark-wnd-error.png]]
如图所示，每次窗口减少一个 <code>MSS</code> 出现了溢出，导致 server 将窗口推送给 peer 的又是完整的大窗口，没有及时阻止继续发送。在全部改用 <code>less_than_32b</code> 后解决了</p>
<h2 id="python-socket">Python 端 socket 细节<a class="headerlink" href="#python-socket" title="Permanent link">&para;</a></h2>
<p>在编译测试后，发现 
<code>CTransC</code>  OK
<code>PyTransC</code> OK
<code>CTransPy</code>  bug</p>
<p>![[Pasted image 20250415175330.png]]
抓包发现，C server 面对什么消息都回复 ack 1，即没看到数据。这可能是因为 py 端含有不含 <code>PSH</code> 标记的数据？然后出现乱序就丢掉了？（out-of-order DEBUG log 触发了）具体阅读：</p>
<hr />
<h4 id="341-python-socket">3.4.1 Python 侧 socket 的细节行为<a class="headerlink" href="#341-python-socket" title="Permanent link">&para;</a></h4>
<p>由于Python侧的socket是标准的linux协议栈，所以可能有一些细节行为我们上面没有提到。下面说明一些可能遇到的情况，如果遇到其它问题，可以通过抓包分析进行判断。</p>
<ol>
<li><strong>FIN|PSH合并现象</strong>：FIN flag会附加在发送的最后一个数据报文上，也即会出现一个flags为<code>FIN|PSH|ACK</code>的报文，因而在编写代码时，要注意FIN报文也可能携带数据。</li>
<li><strong>FIN报文的处理</strong>：在状态机中，当接收方收到携带了FIN的消息时，应当发送ACK并进入<code>CLOSE_WAIT</code>状态。但考虑这样的场景：临近FIN报文的一个数据报文丢包了，此时在FIN之后，仍然还需要收发重传报文。实际上，状态机中所谓的接收到FIN实际上是接收到<strong>非乱序的FIN</strong>，因而可以采用这样的解决方案：如果收到了携带FIN的报文，而当前的<code>rcv_nxt</code>和这个报文不符，则直接丢弃它，不进行任何处理。这样做，直到所有数据都被接收，携带FIN的报文才会被真正ACK。</li>
<li><strong>不带PSH标志的数据报文</strong>：数据报文不一定携带PSH标识，具体原因可以搜索PSH标识的含义。在本实验中意味着可能Python会发来一个只有ACK标识的、携带着数据的报文，应该用 <code>cb-&gt;pl_len</code> 判断报文是否携带数据。</li>
</ol>
<p>重点是第 3</p>
<p>根据 python 端行为，修正了 server 阻塞 read 的细节，修正了接收到含有负载的判断语句（从 <code>if(cb-&gt;flags &amp; TCP_PSH)</code> 改为 <code>if(cb-&gt;flags &amp; TCP_PSH || cb-&gt;pay_load &gt; 0)</code>）
至此，无丢包环境的文件传输完成</p>
<h3 id="bugcsendpy">遗留 BUG：CSendPy<a class="headerlink" href="#bugcsendpy" title="Permanent link">&para;</a></h3>
<p>出现这样的 bug
<div class="highlight"><pre><span></span><code>root@iZuf6d880j0fyz9px7feiaZ:~/csnet/exp3/csnet-learn#<span class="w"> </span>sudo<span class="w"> </span>mnexec<span class="w"> </span>-a<span class="w"> </span><span class="nv">$PID</span><span class="w"> </span>./tcp_stack<span class="w">  </span>client<span class="w"> </span><span class="m">10</span>.0.0.1<span class="w"> </span><span class="m">10001</span>
DEBUG:<span class="w"> </span>find<span class="w"> </span>the<span class="w"> </span>following<span class="w"> </span>interfaces:<span class="w">  </span>h2-eth0.
Routing<span class="w"> </span>table<span class="w"> </span>of<span class="w"> </span><span class="m">1</span><span class="w"> </span>entries<span class="w"> </span>has<span class="w"> </span>been<span class="w"> </span>loaded.
ERROR:<span class="w"> </span>tcp_update_window_safe:<span class="w"> </span>cb-&gt;ack<span class="w"> </span>is<span class="w"> </span>not<span class="w"> </span><span class="k">in</span><span class="w"> </span>the<span class="w"> </span>range<span class="w"> </span>of<span class="w"> </span>snd_una<span class="w"> </span>and<span class="w"> </span>snd_nxt.
</code></pre></div></p>
<p>观测发现：CSendPy 的测试有时候成功，有时候不成功。但是在 <code>ctrl+z</code> 结束进程并重新启动网络拓扑后的第二次测试，一定是不成功的。
结合助教提到的，</p>
<p>抓包发现，这是因为 python 内核没有正常退出，保留了下一次的 ack 结果。
:
![[Pasted image 20250416134102.png]]
但这可能并不是问题最关键所在——但这提示我们要正确完成 FIN 来解决。
![[FIN-error.png]]
这是一个在本地测试正确完成了 diff 检验，但是 FIN 却没有正常得到回应的包
- 尝试：最后发送 FIN+ACK
    - ![[Pasted image 20250416152340.png]] 现在 python 端可以正常关闭了
    - </p>
<h2 id="server-read">Server 阻塞 read 细节<a class="headerlink" href="#server-read" title="Permanent link">&para;</a></h2>
<p>如图：检查是否 buf 为空要放在 <code>read_ring_buffer</code> 之前
Read 完会释放空间，为空并不能说明 client 发的是空数据包，client 要结束请求。但是如果你此时检查，就会返回 <code>0（EOF）</code>，然后 <code>tcp_apps.c</code> 的 <code>client</code> 就会认为一切结束了..!
![[Pasted image 20250416110918.png]]
删除冗余的检查 <code>EOF</code> 后，<code>PySendC</code> 通过</p>
<h1 id="zip-sh">压缩命令脚本 zip. sh<a class="headerlink" href="#zip-sh" title="Permanent link">&para;</a></h1>
<p>由于我使用了 git 所以目录中有很多 git 文件，导致 zip 文件太大。为此我写了这个脚本
```bash 压缩脚本 zip.sh</p>
<h1 id="binbash">!/bin/bash<a class="headerlink" href="#binbash" title="Permanent link">&para;</a></h1>
<p>zip -r exp3 ./ -x=".git/<em>" -x=".vscode/</em>" -x="packetcaught/<em>" -x="server-output.dat" -x="client-input.dat" -x=".git/</em>/*<em>" -x="</em>log" -x="ip_lookup"
```</p>
<h1 id="_25">终局之战——结束了<a class="headerlink" href="#_25" title="Permanent link">&para;</a></h1>
<p>之前是因为发的太慢，现在已经治好了。</p>







  
  






                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "../../../..", "features": ["navigation.tabs", "navigation.top", "navigation.indexes", "navigation.sections", "navigation.instant", "navigation.tracking", "navigation.expand", "navigation.tabs.sticky", "navigation.tabs.sticky.scrollable", "navigation.tabs.sticky.scrollable.mobile", "content.code.select", "search.suggest", "search.share"], "search": "../../../../assets/javascripts/workers/search.d50fe291.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../../../assets/javascripts/bundle.13a4f30d.min.js"></script>
      
        <script src="../../../../javascripts/mathjax.js"></script>
      
        <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
      
        <script src="https://unpkg.com/mermaid/dist/mermaid.min.js"></script>
      
    
  </body>
</html>