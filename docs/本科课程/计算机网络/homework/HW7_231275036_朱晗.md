# 题目集合
_CH7 Wireless: (Textbook Chapter 7: R7,P5,P6,P8)  
CH8 Security: (Textbook Chapter 8: R5, R6, R15, R23, P3, P7, P8, P9, P16, P18, P19)  
CH9 Multimedia: (Textbook Chapter 9: P1, P3, P5, P20)_

## CH7 Wireless
### R7
#### 为什么 `802.11` 中使用了确认，而有线以太网中却未使用？
因为有线网络相对稳定，通讯的双方相对确定，而无线网则是多人发送，多人接受，比较混乱。需要确认机制来维持通讯稳定。

### P5
a. 不会完全崩溃。由于 802.11 采取了 CSMA/CA 机制，所以同一个信道会采取拥塞避免机制，降低效率，但不会完全崩溃。
两个各自与不同 ISP 相关联的站点试图同时传输时：其中一个站点会先收到消息，同时通知其他站点不要再发送。另一个站点会收到这个通知，同时暂停发送，等待一段时间。但有可能其等待的不够久，**造成传输碰撞**。

b. 信道足够远，没有干扰。可以正常传输。
### P6
由于网络存在延迟，如果立刻开始传输第 2 帧出现碰撞的概率较大。CSMA/CA 在传输过程不会监测信号能量，所以提前多等一会比较好。

### P8
由于无线运行，所以只有一个报文在发送时候（即不正忙）才可以传
a. 从 C 到 A：
	1. 让其他静默，C 发送报文 1 B ，B 接受报文 1。
	2. B 发送报文 1，C 发送报文 2 1. A 接受报文 1，B 接受报文 2
	3. B 发送报文 2，C 发送报文 3
	4. 报文 2 和 3 传输
	5. ...
	依据上面分析，不会出现听见两个节点同时发送的问题。所以最大速率为 1. 稳定后每个时隙 A 接受 1 个从 C 的报文
b. 
	A 向 B 发送：
	- A发送 1  B 接受 1
	- A 发送 2，B 接受 2
	为 `1 报文/时隙
	D 到 C 同理。组合为  `2 报文/时隙`
	
	A->B, D->C，这时候不会出现同时听到两个进行发送

c.
	- A sent seg 1 to B- time 1
		- B can hear A, C can't send for time 2, for that B will hear 2 node sending
	- C sent seg 1 to D- time2
		- 此时 A 也不能发送
	综合来看，每个时隙只能发一组报文。效率为` 1 报文/时隙`

d.
	改成有线链路：
	前两问由于不存在同时传输问题，不变。c 由于有线不存在广播报文，所以 B 可以只听到 A ，所以仍然为 `2 报文/时隙`
e.
	回复 ack 的话：
	ea.
		1. C 发送 1 到 B，B 接收 1
		2.  B 回复 ACK1 给 C， C 接受 ACK
		3. B 转发 1 到 A，A 接受 1
		4. A 回复 ACK2 给 B，B 接受 ACK
		所以效率变为 `0.5报文/时隙`
	eb.
		仍然不会发生碰撞。
		只是多了一倍的 ACK 报文时间，所以变为 `1 报文/时隙`
	ec.
		会发生更多碰撞..
		5. A send 1 to B, C wait
		6. B reply ACK1 to A, C send 2 to D
		7. D reply ACK2 to C. A send 3 to B
		8. B reply ACK3 to A， C send 4 to D
稳定后，每两时隙发一个报文。仍然是 `1 报文/时隙`
	
## CH8 Security
### R5
可能的输入块有 $2^{8}=256$ 个，可能的映射有 $256!$ 个。密钥有 $256!$ 种可能

### R6
对称密钥：需要 $N\times (N-1)/2$ 个，这样才能保证每一组通信的对称密钥都不同。
公开密钥：需要 $2N$ 个。只需要保证每个人有一个自己的公钥和私钥就可以了。
### R15
#### 假如 Alice 有一个准备发送给任何请求者的报文。数以千计的人想得到 Alice 的报文，但每个人都要保证报文的完整性。在这个场景，你认为基于 MAC 和基于数字签名的完整性方案哪个更适合？
由于 MAC 方法，当采用哈希遇到碰撞时（当发给很多人时候，碰撞的概率大大增大了），就存在篡改报文的可能性。所以可能采用数字签名比较好。
数字签名方法也更方便。因为即使请求者数量巨大，只要 Alice 的私钥不泄露，报文的真实性和完整性都可以得到保障。

### R23
#### 假设某 TLS 会话应用了具有 CBC 的块密码。服务器以明文方式发送了 IV，这种说法是正确的还是错误的？
正确的。$IV$ 本质是一个随机数，其不包含信息。只要加密算法安全仍然是没问题的。所以 IV 一直以明文方式发送。

### P3
不足以。因为多码代替密码系统映射关系不是一个字母对应一个字母的关系，其和其在报文中的位置也有关。所以发送含有 26 个字母的语句不足以破解。

### P7
#### 使用 RSA，选择 $p=3$ 和 $q=11$，采取对每个字母独立加密的方式加密短语 `dog`。对已加密报文应用解密算法恢复原报文。
计算：
$N=p*q=33$
$\phi=(p-1)(q-1)=20$
选择 $e$ 作为一个与 $\phi$ 互质的数，选择 $7$
选择 $d$ 作为与 $e$ mod $\phi$ 的模反元素，即 $d\times e\bmod\phi=1$，可以选择 $d=3$
d 是第 4 个字母，o 是第 15 个字母，g 是第 7 个字母
加密：
- d：
	- $C=4^{e}\bmod N=4^{7}\bmod 33=16$
- o:
	- $C=15^{7}\bmod 33=27$
- g:
	- $C=7^{7}\bmod 33=28$

解密：
- d
	- $M_{1}=16^{3}\bmod N=4$
- o
	- $M_{2}=27^{3}\bmod N=15$
- g
	- $M_{3}=28^{3}\bmod N=7$
完全符合。


### P8
#### 考虑具有 $p=5$ 和 $q=11$ 的 RSA
a. $n$ 和 $z$ 是什么？
$n=55$, $z=4\times 10=40$
b. 令 $e=3$ 。为什么这对 $e$ 是一个可接受的选择？
	因为 $e$ 和 $z$ 互质
c. 求 $d$ 使得 $de=1(\bmod z)$ 和 $d< 160$
	比如让 $d=27$

d. 加密报文 $m=8$
$C=m^{e} \bmod n=(m \bmod n)^{e}\bmod n=8^{3}\bmod 55=512\bmod 55=17$
### P9
探讨 Diffie - Hellman 公钥加密算法
#### a . 证明在一般情况下 Alice 和 Bob 得到相同的对称密钥

$T_{A}=g^{S_{A}}\bmod p$ , $T_{B}=g^{S_{B}}\bmod p$
交换公钥后，
$S=T_{B}^{S_{A}}\bmod =g^{S_{A}S_{B}}\bmod p$
$S'=g^{S_{A}S_{B}}\bmod p$
$S=S'$
#### b. 对于 $p=11$, $g=2$，假定 Alice 分别选择 $S_{A}=5,S_{B}=12$，计算 Alice 和 Bob 和公钥 $T_{A}$, $T_{B}$

$T_A=2^{5}\bmod 11=32 \bmod 11=9$
$T_{B}=2^{12}\bmod 11=(16^{3}\bmod 11)\bmod 11=(16 \bmod 11)^{3}\bmod 11=5^{3}\bmod 11=4$

#### c.接着计算共享密钥
$S=2^{5\times12}\bmod 11=(1024\bmod 11)^{7}\bmod 11=1$
$S'=1$ 同理


### P16
![[协议.png]]
b. 假定未使用证书，描述Trudy 如何通过拦截Alice 的报文，进而对Bob 假装他是Alice 而成为一名“中间人”
Trudy 可以拦截Alice 发送的 $K{^{-}(R)}$ 报文。并伪造自己的ip 地址，发送给Bob。这样Bob 仍然会认为是Alice 收到了并完成了鉴别。
### P18
a. 不能。会因为中间人攻击而失效。
b. Alice 用Bob 的公钥加密即可。
### P19
a. 客户端
b. IP `216.75.194.220`, port: `443`
c. `2785+204=2989`
d. 3
e.分组 112 包含一个用服务器公钥加密的主密钥 Pre-Master-Key。
f.  第一个字节是 bc，最后一个字节是 29 (跳过握手的 4 字节)
g. 客户加密的握手报文考虑了 3 条
h. 服务器加密的握手报文考虑了 4 条。

## CH9 Multimedia
### P1
#### 考虑下图。类似于我们对图 9.1 的讨论，假设视频以固定比特率进行编码，因此每个视频块包含了在相同的固定时间量 $\Delta$ 播放的视频帧。服务器在 $t_{0}$ 时刻传输第一个视频块，在 $t_{0}+\Delta$ 时刻传输第二块... 等等。一旦用户开始播放，每个块应当在前一块后播放 $\Delta$ 时间单元
a. 假设第一块在 $t_{1}$ 时刻一到达，客户就开始播放。在下图中，多少视频块（包括第一块）将及时到达供其播放？解释你怎样得到该答案的。
- 1st OK
- 2nd NO
- 3rd NO
- 4th OK
- 5th OK
- 6th OK
- 7th NO
- 8th NO
- 9th NO
- 一共 4 个。
对比图，观察在 $[t_{1}+k\Delta ,t_{1}+(k+1)\Delta ]$ 内是否能接收到 $(k+1)$ 快即可
b. 
- 1st OK，
- 2nd OK， 
- 3rd OK,  
- 4th OK
- 5th OK
- 6th OK
- 7th NO
- 8th NO
- 9th NO
只需要对比 $[t_{1}+k\Delta ,t_{1}+(k+1)\Delta ]$ 内是否能接收到 $(k)$ 快即可

c.
最多有缓存 2 个块。当准备播放第 2个块的时候，在第三个 $\Delta$ 时间内，最多接受了 4 个块，所以缓存了两个块。
### P3
![[Pasted image 20250529150626.png]]
#### 回想在图中显示 HTTP 流的简单模型。假设缓存长度是有限的，并服务器以可变的速率 $x(t)$ 发送比特。
a. 平均发送速率为 $\frac{H}{2}$
b. 严重卡顿。
c. 假设 $Q>0$，作为 $Q,H,T$ 的函数，确定首先开始播放的时间
	我们应该保证用户播放是流畅，即缓存区维持 $Q$ 这么大。
	$\frac{1}{2} \frac{H}{T}t^{2}=Q$, 得到 $t=\sqrt{  {\frac{{2Q}}{H}T}}$
d. 假设 $H> 2r$ 和 $Q=\frac{HT}{2}$。证明在初始播放时延之后将不会有停滞
$\frac{Q}{r}=\frac{{HT}}{2r}>T$
最大缺口计算得到为
$$
-\frac{{r^{2}}T}{2H}
$$
带入发现这个缺口不如 $Q$ 大。所有不会有停滞

e.假设 $H>2r$ ，求出最小的 $Q$ 值，使得在初始播放时延之后将不会有停滞。

列出净数据量
$$
D=\frac{H}{2T}t^{2}-r\left( t-\sqrt{ \frac{2QT}{H} } \right)
$$
弥补最大缺口(即上柿>=0 恒成立)。$Q=\dfrac{r^{2}T}{8H}$

### P5
a. 存储 $N^{2}$ 个
b. 存储 $2N$ 个


### P20
leaky bucket
- **令牌产生速率 r2**：决定流量的 **峰值速率**，即 $r_{2}​=r_{peak}$ ​。

- **桶长度**：假设突发时间为 $\Delta$，让最大桶长度设置为 $r_{2}\Delta$ 即可

- **第一个漏桶的输出流量** 会被看作是第二个漏桶的输入流量。
    
- 数据以“批次”或“连续流”的形式通过第一个漏桶，并进入第二个漏桶。
