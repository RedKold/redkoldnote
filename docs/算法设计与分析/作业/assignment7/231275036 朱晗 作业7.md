# ProblemSet7 NPC

- 20.1, 20.2, 20.3, 20.4, 20.5
- 21.1, 21.3, 21.4, 21.5, 21.6, 21.10

# 习题
### 20.1
#### 对下列问题 CLIQUE, KNAPSACK, INDEPENDENT-SET, VERTEX-COVER
1. 写出其优化问题和判定问题
2. 请对每个问题证明，其优化问题多项式时间可解，当且仅当其判定问题多项式时间可解
3. 请证明这些问题为 NP 问题


**对于 1**
- CLIQUE
	- 优化问题：输入无向图，输出最大团大小
	- 判定问题：输入无向图和 `k`，判断是否有 `k` 大小的团
- KNAPSACK
	- 优化问题：输入 n 个物品、每个物品的大小和价值、背包大小、输出背包能装物品的最大价值
	- 判定问题：输入 n 个物品、每个物品的大小和价值、背包大小，输出背包能否装价值不小于 k 的物品
- INDEPENDENT-SET
	- 优化问题：输入无向图，输出最大独立集
	- 判定问题：输入无向图和 k，输出能否构造大小为 k 的独立集
- VERTEX-COVER
	- 优化问题：输入无向图，输出最小顶点覆盖
	- 判定问题：输入无向图和 k 判定能否构造大小为 k 的顶点覆盖

**对于 2**
- CLIQUE
	- 充分：如果优化问题多项式时间可解，则得到最大价值后，判定问题也可解（只要判定的价值小于等于最大价值，就 YES，否则 NO）
	- 必要：判定问题可解，则我们遍历价值直到结果为 NO，就得到优化问题的最大价值。由于判定问题可多项式时间解，且 `k<=|V|`，故优化问题也多项式时间可解
- KNAPSACK
	- 充分：同理，显然
	- 必要：对 $k$ 的所有取值做判定。由于 `k<=价值总和`，故多项式时间可解
- INDEPENDENT-SET
	- 充分：显然
	- 必要：对 k 的所有取值进行判定即可。由于 `k<=|V|`，故也是多项式时间
- VERTEX-COVER
	- 充分：显然
	- 必要：对 k 的所有取值进行判定。由于 `k<=|V|`，故也是多项式时间

**对于 3**
- CLIQUE
	- 给定一个无向图，验证一个大小为 $k$ 的点集是否为团，只需要检查所有点对是否存在边。$O(n^{2})$
- KNAPSACK
	- 给定 $n$ 个物品，所有物品的大小和价值，背包大小，价值 $k$，验证一个物品集合能否放入背包且价值不小于 $k$，验证大小之和不大于背包需要 $O(n)$，验证价值总和是否大于 $k$ 也需要 $O(n)$，总体多项式时间。NP（注意，这里假设给定一个背包方案，而实际并没有给定这么一个方案，我们是因为非确定性图灵机的特点才可以这样做（同时探索多个计算路径））
- INDEPENDENT-SET
	- 给定无向图和 $k$，验证一个大小为 $k$ 的点集是否为独立集，只需验证点和点之间是否相邻，时间 $O(k^{2})=O(n^{2})$，所以 NP
- VERTEX-COVER
	- 给定无向图和 $k$，验证一个大小为 $k$ 的点集是否为点覆盖，只要检查是否所有边都有顶点在点覆盖中，需要 $O(kE)=O(n^{3})$


---
### 20.2
#### 请证明多项式时间归约关系 ($\leq_{p}$) 是一个传递关系
假设 $A\leq_{p}B \land B\leq_{p}C$, 证明 $A\leq_{p}C$
$A\leq_{p }B$，则存在 $T_{1}$，对于 $A$ 的所有输入 $x$，有 $B$ 的输入 $T_{1}(x)$，它们同 yes 同 no
$B\leq_{p }C$，则存在 $T_{2}$，对于 $B$ 的所有输入 $y$，有 $C$ 的输入 $T_{2}(y)$，它们同 yes 同 no
由于 $T_{1}(x)\subset B的所有输入$，所以下面命题成立
对于 $A$ 的所有输入 $x$，存在 $T_{3}=T_{2}\cdot T_{1}$（表达复合函数），有 $C$ 的输入 $T_{2}(T_{1}(x))$
，它们同 yes 同 no，即 $A\leq_{p} C$
q.e.d

### 20.3
#### 假设 $A\leq_{p}B$，归约可以在 $O(n^{2})$ 内完成，$B$ 可以在 $O(n^{4})$ 内解决，请计算解决 $A$ 问题的时间
解决 $A$ 问题分两步
- 归约到 $B$，花费 $O(n^{2})$
- 然后用 $B$ 的方法解决
- 总体代价为 $O(n^{2}+n^{4})=O(n^{4})$

### 20.4
#### 给定“排序”与“选择”这两个问题，请从两个方向给出它们之间的归约。归约的过程是否让你想起某个排序算法？（*本题的归约存在泛化*：黑盒调用另一个算法解决另一个问题）

**排序到选择**：
- 依次调用选择第 i 小的元素，即完成

选择到排序：
- 调用排序算法，然后通过数组下标直接访问的方式直接获得第 i 小的元素。

**排序算法**：选择排序


### 20.5
#### 给定两个问题，请给出问题 1 到问题 2 的归约和问题 2 到问题 1 的归约
##### 问题 1: 找出集合 $S$ 中所有数的中位数

##### 问题 2: 找出集合 $S$ 中所有数中阶为 $k$（第 $k$ 小）的数



- 问题 1 到问题 2 的归约
	- 如果集合大小 $n$ 为奇数，则问题 2 的输入 $k=\dfrac{n+1}{2}$ 即可
	- 否则，问题 2 输入为 $\frac{n}{2}$ 得到结果 $x$，输入为 $\frac{n}{2}+1$ 得到结果 $y$，$(x+y)/2$ 即为所求
- 问题 2 到问题 1 的归约
	- 类似于快速选择算法
	- 每次调用问题 1 的算法，找到中位数。利用其进行 partition，能把问题规模缩小一半。最后当规模为 1 就找到了 $k$
	- （考试作业还是说清楚思路，少写代码）
### 21.1
请证明
#### 如果任意一个 NP 完全问题可以在多项式时间内解决，则所有 NP 问题都可以在多项式时间内解决，即 $P=NP$
如果一个 NP 完全问题可以在多项式时间内解决，而所有 NP 问题都可以在多项式时间内归约到 NPC 问题，所以整体仍然是多项式时间。

### 21.3
#### （伪最大团问题）给定一个正整数常数 $k$。问题的输入为一个包含 $n$ 个顶点的无向图 $G$，问题为判断 $G$ 中是否有大小为 $k$ 的团
##### 请给出一个多项式时间内的算法，判定图中是否存在大小为 $k$ 的团

##### 你所提出的多项式时间的算法，是否证明了 $NP$ 完全问题

### 21.4

### 21.5

### 21.6

### 21.10